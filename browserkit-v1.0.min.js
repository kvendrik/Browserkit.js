/*
// @name: Browserkit
// @version: 1.0
// 
// Copyright 2014 Koen Vendrik, http://kvendrik.com
// Licensed under the MIT license
*/////////POLYFILLS////////
//Array.indexOf
typeof Array.prototype.indexOf!="function"&&(Array.prototype.indexOf=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1});document.querySelector=function(e){var t=function(e,t,n,r){if(r!==undefined){var i=document.getElementsByTagName(e)[0];return i!==undefined?i:null}var s=e.split(t),o=s[0]===""?"*":s[0],u=s[1],a=document.getElementsByTagName(o),f;n==="class"?f=function(e){return e.className.split(" ").indexOf(u)!==-1?1:0}:f=function(e){return e.getAttribute(n)===u?1:0};for(var l=0,c=a.length;l<c;l++){var i=a[l];if(f(i)===1)return i}return null};return e.indexOf("#")!==-1?e.indexOf("#")===0?document.getElementById(e.replace("#","")):t(e,"#","id"):e.indexOf(".")!==-1?e.indexOf(".")===0?t(e,".","class"):t(e,".","class"):t(e,"","",1)};typeof document.getElementsByClassName!="function"&&(document.getElementsByClassName=function(e){var t=document.getElementsByTagName("*"),n=[];for(var r=0,i=t.length;r<i;r++)t[r].className.split(" ").indexOf(e)!==-1&&n.push(t[r]);return n});(function(){this.Browserkit=function(e){if(this===window)return new Browserkit(e);var t=typeof e;t==="object"?this.el=e:t==="string"&&(this.el=document.querySelector(e));return this};this.Browserkit.prototype._ClassesBase=function(e,t){var n=this.el,r=n.className.split(" ");if(t===1)r.push(e);else{var i=r.indexOf(e);i!==-1&&r.splice(i,1)}n.className=r.join(" ")};this.Browserkit.prototype.hasClass=function(e){return this.el.className.split(" ").indexOf(e)!==-1?this:0};this.Browserkit.prototype.addClass=function(e){this.hasClass(e)===0&&this._ClassesBase(e,1);return this};this.Browserkit.prototype.removeClass=function(e){this.hasClass(e)!==0&&this._ClassesBase(e,0);return this};this.Browserkit.prototype.toggleClass=function(e){this.hasClass(e)!==0?this.removeClass(e):this.addClass(e);return this};if(typeof window.addEventListener=="function"){this.Browserkit.prototype.addEvent=function(e,t){this.el.addEventListener(e,t,!1);return this};this.Browserkit.prototype.detachEvent=function(e,t){this.el.removeEventListener(e,t,!1);return this}}else if(typeof window.attachEvent=="function"){this.Browserkit.prototype.addEvent=function(e,t){this.el.attachEvent("on"+e,t,!1);return this};this.Browserkit.prototype.detachEvent=function(e,t){this.el.detachEvent("on"+e,t,!1);return this}}else{this.Browserkit.prototype.addEvent=function(e,t){this.el["on"+e]=t;return this};this.Browserkit.prototype.detachEvent=function(e,t){this.el["on"+e]=null;return this}}this.Browserkit.prototype.click=function(e){typeof window.FastButton=="function"?new FastButton(this.el,e):this.addEvent("click",e);return this};this.Browserkit.prototype.resizeEnd=function(e){this.addEvent("resize",function(){typeof this.resizeEndTimeout!==undefined&&clearTimeout(this.resizeEndTimeout);this.resizeEndTimeout=setTimeout(e,200)});return this};this.B=Browserkit})(this);